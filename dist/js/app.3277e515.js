(function(){"use strict";var e={458:function(e,t,o){var s=o(963),l=o(252);const n={id:"app"},i=(0,l.Uk)("Главная"),a=(0,l.Uk)(" | "),r=(0,l.Uk)("Vuex"),c=(0,l.Uk)(" | "),d=(0,l.Uk)("API");function u(e,t,o,s,u,h){const p=(0,l.up)("router-link"),v=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("nav",null,[(0,l.Wm)(p,{to:"/"},{default:(0,l.w5)((()=>[i])),_:1}),a,(0,l.Wm)(p,{to:"/vuex"},{default:(0,l.w5)((()=>[r])),_:1}),c,(0,l.Wm)(p,{to:"/API"},{default:(0,l.w5)((()=>[d])),_:1})]),(0,l.Wm)(v)])}var h={},p=o(744);const v=(0,p.Z)(h,[["render",u]]);var b=v,w=o(577);const m=e=>((0,l.dD)("data-v-474abd12"),e=e(),(0,l.Cn)(),e),g={class:"block"},y={class:"text"},f={class:"text"},k=m((()=>(0,l._)("strong",null,"Содержание: ",-1)));function _(e,t,o,s,n,i){return(0,l.wg)(),(0,l.iD)("div",g,[(0,l.WI)(e.$slots,"default",{},void 0,!0),(0,l._)("div",y,[(0,l._)("strong",null,"№ "+(0,w.zw)(o.id)+" Заголовок: ",1),(0,l.Uk)((0,w.zw)(o.title),1)]),(0,l._)("div",f,[k,(0,l.Uk)((0,w.zw)(o.body),1)]),(0,l._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>i.Redact&&i.Redact(...e))},"Лайк: "+(0,w.zw)(n.redact),1),(0,l._)("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>i.Dislike&&i.Dislike(...e))},"Дизлайк: "+(0,w.zw)(n.dislike),1),(0,l._)("button",{type:"button",class:"delete_btn",onClick:t[2]||(t[2]=(...e)=>i.DeleteTwit&&i.DeleteTwit(...e))},"Удалить пост")])}var P={name:"Block",props:["body","title","id"],data(){return{redact:0,dislike:0}},methods:{Redact(){this.redact+=1},Dislike(){this.dislike+=1},DeleteTwit(){this.$emit("deleteTwit",this.id)}}};const S=(0,p.Z)(P,[["render",_],["__scopeId","data-v-474abd12"]]);var D=S;const T=e=>((0,l.dD)("data-v-cb969224"),e=e(),(0,l.Cn)(),e),C={class:"main"},W=T((()=>(0,l._)("p",null,"Создание нового поста",-1)));function V(e,t,o,n,i,a){const r=(0,l.Q2)("focus");return(0,l.wg)(),(0,l.iD)("div",C,[W,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.obj.title=e),placeholder:"Заголовок",id:"input"},null,512),[[s.nr,i.obj.title],[r]]),(0,l.wy)((0,l._)("textarea",{ref:"ta",id:"ta",cols:"30",rows:"10",placeholder:"Текст поста","onUpdate:modelValue":t[1]||(t[1]=e=>i.obj.body=e),style:(0,w.j5)(i.styles)},null,4),[[s.nr,i.obj.body]]),(0,l._)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>a.click&&a.click(...e))},"Добавить новый пост")])}var j={name:"addBlock",data(){return{obj:{id:0,body:"",title:""},styles:{"background-color":"white"}}},methods:{click(){if(""==this.obj.body)this.$refs.ta.setAttribute("placeholder","Твит не может быть пустым"),this.styles["background-color"]="orange",setTimeout((()=>{this.$refs.ta.setAttribute("placeholder","Ваш твит"),this.styles["background-color"]="white"}),2e3);else{this.obj.id=Date.now();let e=Object.assign({},this.obj);this.$emit("ad-block",e),this.$emit("changeVisible",!1),this.obj.body="",this.obj.title=""}}}};const Q=(0,p.Z)(j,[["render",V],["__scopeId","data-v-cb969224"]]);var x=Q;function O(e,t,o,n,i,a){return o.show?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"main",onClick:t[1]||(t[1]=e=>a.closeWindow())},[(0,l._)("div",{class:"main_inside",onClick:t[0]||(t[0]=(0,s.iM)((()=>{}),["stop"]))},[(0,l.WI)(e.$slots,"default",{},void 0,!0)])])):(0,l.kq)("",!0)}var A={name:"modalWindow",props:{show:{type:Boolean,default:!1}},methods:{closeWindow(){this.$emit("update:show",!1)}}};const U=(0,p.Z)(A,[["render",O],["__scopeId","data-v-21734568"]]);var B=U;const $=(0,l._)("option",{disabled:"",value:""},"Выберите из списка",-1),I=["value"];function H(e,t,o,n,i,a){return(0,l.wy)(((0,l.wg)(),(0,l.iD)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.modelValue=e),onChange:t[1]||(t[1]=(...e)=>a.onChange&&a.onChange(...e))},[$,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.options,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.value,value:e.value},(0,w.zw)(e.name),9,I)))),128))],544)),[[s.bM,o.modelValue]])}var Z={name:"mySelect",props:["modelValue","options"],methods:{onChange(e){this.$emit("update:modelValue",e.target.value)}}};const z=(0,p.Z)(Z,[["render",H]]);var L=z,M=[x,D,B,L],K={mounted(e){e.focus()},name:"focus"},Y={mounted(e,t){const o={rootMargin:"0px",threshold:1},s=(e,o)=>{e[0].isIntersecting&&t.value[1]<=10&&t.value[0]()},l=new IntersectionObserver(s,o);l.observe(e)},name:"intersection"},E=[K,Y],F=o(201);const R=(0,l._)("h1",null,"Список постов",-1),q={class:"buttons"},G={key:0},J={key:1,style:{color:"red",textAlign:"center","padding-bottom":"50px"}},N={class:"observer"};function X(e,t,o,n,i,a){const r=(0,l.up)("mySelect"),c=(0,l.up)("addBlock"),d=(0,l.up)("modalWindow"),u=(0,l.up)("Block"),h=(0,l.Q2)("focus"),p=(0,l.Q2)("intersection");return(0,l.wg)(),(0,l.iD)("div",null,[R,(0,l._)("div",q,[(0,l._)("button",{onClick:t[0]||(t[0]=e=>a.showWindow())},"Создать пост"),(0,l.Wm)(r,{modelValue:i.selectedSort,"onUpdate:modelValue":t[1]||(t[1]=e=>i.selectedSort=e),options:i.sortOptions},null,8,["modelValue","options"]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>i.searchQuery=e),placeholder:"Поиск..."},null,512),[[s.nr,i.searchQuery],[h]])]),(0,l.Wm)(d,{show:i.visible,"onUpdate:show":t[3]||(t[3]=e=>i.visible=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onAdBlock:a.pushTo},null,8,["onAdBlock"])])),_:1},8,["show"]),a.searchPost.length>0?((0,l.wg)(),(0,l.iD)("div",G,[(0,l.Wm)(s.W3,{name:"list",appear:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.searchPost,(e=>((0,l.wg)(),(0,l.j4)(u,{body:e.body,title:e.title,id:e.id,key:e.id,onDeleteTwit:a.deleteTwit,class:"blocks"},null,8,["body","title","id","onDeleteTwit"])))),128))])),_:1})])):((0,l.wg)(),(0,l.iD)("div",J," Постов пока нет, добавьте пост ")),(0,l.wy)((0,l._)("div",N,null,512),[[p,[a.fetchMorePosts,i.page]]])])}var ee={name:"App",data(){return{blocks:[],visible:!1,selectedSort:"",searchQuery:"",page:0,totalPages:10,sortOptions:[{value:"title",name:"По названию"},{value:"body",name:"По описанию"},{value:"id",name:"По номеру"}]}},methods:{pushTo(e){this.blocks.push(e),this.visible=!1},deleteTwit(e){this.blocks=this.blocks.filter((t=>t.id!=e))},showWindow(){this.visible=!0},fetchMorePosts(){this.page+=1,fetch(`https://jsonplaceholder.typicode.com/posts?_page=${this.page}`).then((e=>e.json())).then((e=>{this.blocks=[...this.blocks,...e]})).catch((e=>console.log("Ошибка:",e)))}},mounted(){},computed:{sortedPost(){return"id"==this.selectedSort?[...this.blocks].sort(((e,t)=>e[this.selectedSort]-t[this.selectedSort])):[...this.blocks].sort(((e,t)=>e[this.selectedSort]?.localeCompare(t[this.selectedSort])))},searchPost(){return this.sortedPost.filter((e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase())))}}};const te=(0,p.Z)(ee,[["render",X]]);var oe=te;const se=(0,l._)("h1",null,"Список постов",-1),le={class:"buttons"},ne=["modelValue"],ie={key:0},ae={class:"pages_wrap"},re=["onClick"],ce={key:1,style:{color:"red",textAlign:"center","padding-bottom":"50px"}};function de(e,t,o,n,i,a){const r=(0,l.up)("mySelect"),c=(0,l.up)("addBlock"),d=(0,l.up)("modalWindow"),u=(0,l.up)("Block");return(0,l.wg)(),(0,l.iD)("div",null,[se,(0,l._)("div",le,[(0,l._)("button",{onClick:t[0]||(t[0]=e=>a.showWindow())},"Создать пост"),(0,l.Wm)(r,{"model-value":e.selectedSort,"onUpdate:modelValue":e.setSelectedSort,options:e.sortOptions},null,8,["model-value","onUpdate:modelValue","options"]),(0,l._)("button",{onClick:t[1]||(t[1]=e=>a.update2())}),(0,l._)("input",{type:"text",modelValue:e.searchQuery,"onUpdate:modelValue":t[2]||(t[2]=(...t)=>e.setSearchQuery&&e.setSearchQuery(...t)),placeholder:"Поиск..."},null,8,ne)]),(0,l.Wm)(d,{show:i.visible,"onUpdate:show":t[3]||(t[3]=e=>i.visible=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onAdBlock:e.pushTo,onChangeVisible:a.changeVisible},null,8,["onAdBlock","onChangeVisible"])])),_:1},8,["show"]),e.searchPost.length>0?((0,l.wg)(),(0,l.iD)("div",ie,[(0,l.Wm)(s.W3,{name:"list",appear:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.searchPost,(t=>((0,l.wg)(),(0,l.j4)(u,{body:t.body,title:t.title,id:t.id,key:t.id,onDeleteTwit:e.deleteTwit,class:"blocks"},null,8,["body","title","id","onDeleteTwit"])))),128))])),_:1}),(0,l._)("div",ae,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.totalPages,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,w.C_)(["pages",{current_page:t==e.page}]),onClick:o=>e.changePage(t)},(0,w.zw)(t),11,re)))),128))])])):((0,l.wg)(),(0,l.iD)("div",ce," Постов пока нет, добавьте пост "))])}var ue=o(907),he={name:"vuex",data(){return{visible:!1}},methods:{changeVisible(e){this.visible=e},...(0,ue.OI)({setPage:"post/setPage",setSelectedSort:"post/setSelectedSort",setSearchQuery:"post/setSearchQuery",deleteTwit:"post/deleteTwit",pushTo:"post/pushTo"}),...(0,ue.nv)({fetchPosts:"post/fetchPosts",changePage:"post/changePage"}),showWindow(){this.visible=!0},update2(){this.setSearchQuery("sunt")}},mounted(){this.fetchPosts()},computed:{...(0,ue.rn)({blocks:e=>e.post.blocks,selectedSort:e=>e.post.selectedSort,searchQuery:e=>e.post.searchQuery,page:e=>e.post.page,totalPages:e=>e.post.totalPages,sortOptions:e=>e.post.sortOptions}),...(0,ue.Se)({sortedPost:"post/sortedPost",searchPost:"post/searchPost"})}};const pe=(0,p.Z)(he,[["render",de]]);var ve=pe;const be=(0,l._)("h1",null,"Список постов",-1),we={class:"buttons"},me={key:0},ge={key:1,style:{color:"red",textAlign:"center","padding-bottom":"50px"}},ye={class:"observer"};function fe(e,t,o,n,i,a){const r=(0,l.up)("mySelect"),c=(0,l.up)("addBlock"),d=(0,l.up)("modalWindow"),u=(0,l.up)("Block"),h=(0,l.Q2)("focus"),p=(0,l.Q2)("intersection");return(0,l.wg)(),(0,l.iD)("div",null,[be,(0,l._)("div",we,[(0,l._)("button",{onClick:t[0]||(t[0]=e=>a.showWindow())},"Создать пост"),(0,l.Wm)(r,{modelValue:n.selectedSort,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedSort=e),options:i.sortOptions},null,8,["modelValue","options"]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchQuery=e),placeholder:"Поиск..."},null,512),[[s.nr,n.searchQuery],[h]])]),(0,l.Wm)(d,{show:i.visible,"onUpdate:show":t[3]||(t[3]=e=>i.visible=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onAdBlock:n.pushTo,onChangeVisible:a.changeVisible},null,8,["onAdBlock","onChangeVisible"])])),_:1},8,["show"]),n.sortedAndSearchPosts.length>0?((0,l.wg)(),(0,l.iD)("div",me,[(0,l.Wm)(s.W3,{name:"list",appear:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.sortedAndSearchPosts,(e=>((0,l.wg)(),(0,l.j4)(u,{body:e.body,title:e.title,id:e.id,key:e.id,onDeleteTwit:n.deleteTwit,class:"blocks"},null,8,["body","title","id","onDeleteTwit"])))),128))])),_:1})])):((0,l.wg)(),(0,l.iD)("div",ge," Постов пока нет, добавьте пост ")),(0,l.wy)((0,l._)("div",ye,null,512),[[p,[n.fetching,n.page]]])])}var ke=o(262);function _e(){let e=(0,ke.iH)([]),t=(0,ke.iH)(0),o=()=>{t.value+=1,fetch(`https://jsonplaceholder.typicode.com/posts?_page=${t.value}`).then((e=>e.json())).then((t=>{e.value=[...e.value,...t]})).catch((e=>console.log("Ошибка:",e)))};return{blocks:e,page:t,fetching:o}}function Pe(e){let t=(0,ke.iH)(""),o=(0,l.Fl)((()=>"id"==t.value?[...e.value].sort(((e,o)=>e[t.value]-o[t.value])):[...e.value].sort(((e,o)=>e[t.value]?.localeCompare(o[t.value])))));return{selectedSort:t,sortedPosts:o}}function Se(e){let t=(0,ke.iH)(""),o=(0,l.Fl)((()=>e.value.filter((e=>e.title.toLowerCase().includes(t.value.toLowerCase())))));return{searchQuery:t,sortedAndSearchPosts:o}}function De(e){let t=t=>{e.value.push(t)},o=t=>{e.value=e.value.filter((e=>e.id!=t))};return{pushTo:t,deleteTwit:o}}var Te={name:"App",data(){return{visible:!1,sortOptions:[{value:"title",name:"По названию"},{value:"body",name:"По описанию"},{value:"id",name:"По номеру"}]}},methods:{showWindow(){this.visible=!0},changeVisible(e){this.visible=e}},setup(e){const{blocks:t,page:o,fetching:s}=_e(),{sortedPosts:l,selectedSort:n}=Pe(t),{searchQuery:i,sortedAndSearchPosts:a}=Se(l),{deleteTwit:r,pushTo:c}=De(t);return{blocks:t,page:o,fetching:s,pushTo:c,deleteTwit:r,sortedPosts:l,selectedSort:n,searchQuery:i,sortedAndSearchPosts:a}}};const Ce=(0,p.Z)(Te,[["render",fe]]);var We=Ce;const Ve=[{path:"/",component:oe},{path:"/vuex",component:ve},{path:"/API",component:We}],je=(0,F.p7)({routes:Ve,history:(0,F.r5)("/posts/")});var Qe=je;const xe={state:()=>({blocks:[],selectedSort:"",searchQuery:"",page:1,totalPages:10,sortOptions:[{value:"title",name:"По названию"},{value:"body",name:"По описанию"},{value:"id",name:"По номеру"}]}),getters:{sortedPost(e){return"id"==e.selectedSort?[...e.blocks].sort(((t,o)=>t[e.selectedSort]-o[e.selectedSort])):[...e.blocks].sort(((t,o)=>t[e.selectedSort]?.localeCompare(o[e.selectedSort])))},searchPost(e,t){return console.log(e.searchQuery),t.sortedPost.filter((t=>t.title.toLowerCase().includes(e.searchQuery.toLowerCase())))}},mutations:{pushTo(e,t){e.blocks.push(t)},deleteTwit(e,t){e.blocks=e.blocks.filter((e=>e.id!=t))},setBlock(e,t){e.blocks=t},setPage(e,t){e.page=t},setSelectedSort(e,t){e.selectedSort=t},setSearchQuery(e,t){e.searchQuery=t},setTotalPages(e,t){e.totalPages=t}},actions:{async fetchPosts({state:e}){fetch(`https://jsonplaceholder.typicode.com/posts?_page=${e.page}`).then((e=>e.json())).then((t=>{e.blocks=[...t]})).catch((e=>console.log("Ошибка:",e)))},changePage({state:e,dispatch:t},o){e.page=o,t("fetchPosts")}},namespaced:!0};var Oe=(0,ue.MT)({modules:{post:xe}});const Ae=(0,s.ri)(b);M.forEach((e=>{Ae.component(e.name,e)})),E.forEach((e=>{Ae.directive(e.name,e)})),Ae.use(Qe).use(Oe).mount("#app")}},t={};function o(s){var l=t[s];if(void 0!==l)return l.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,s,l,n){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],l=e[d][1],n=e[d][2];for(var a=!0,r=0;r<s.length;r++)(!1&n||i>=n)&&Object.keys(o.O).every((function(e){return o.O[e](s[r])}))?s.splice(r--,1):(a=!1,n<i&&(i=n));if(a){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,l,n]}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,n,i=s[0],a=s[1],r=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(r)var d=r(o)}for(t&&t(s);c<i.length;c++)n=i[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},s=self["webpackChunktwitter_my"]=self["webpackChunktwitter_my"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(458)}));s=o.O(s)})();
//# sourceMappingURL=app.3277e515.js.map